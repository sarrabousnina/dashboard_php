<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Livres</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Roboto:wght@500;700&display=swap" rel="stylesheet"> 
    
    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div class="container-fluid position-relative d-flex p-0">
        <!-- Spinner Start -->
        <div id="spinner" class="show bg-dark position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->


<!-- Sidebar Start -->
<div class="sidebar pe-4 pb-3">
    <nav class="navbar bg-secondary navbar-dark">
        <a href="index.html" class="navbar-brand mx-4 mb-3">
            <h3 class="text-primary"><i class="fa fa-user-edit me-2"></i>Université</h3>
        </a>
        <div class="d-flex align-items-center ms-4 mb-4">
            <div class="position-relative">
                <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                <div class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1"></div>
            </div>
            <div class="ms-3">
                <h6 class="mb-0">Admin</h6>
                <span>Admin</span>
            </div>
        </div>
        <div class="navbar-nav w-100">
            <a href="index.html" class="nav-item nav-link active"><i class="fa fa-tachometer-alt me-2"></i>Dashboard</a>
            <a href="formations.html" class="nav-item nav-link"><i class="fa fa-book me-2"></i>Formations</a>
            <a href="evenements.html" class="nav-item nav-link"><i class="fa fa-calendar-alt me-2"></i>Événements</a>
            <a href="livres.html" class="nav-item nav-link"><i class="fa fa-book me-2"></i>Livres</a>
            <a href="club.html" class="nav-item nav-link"><i class="fa fa-users me-2"></i>Clubs</a>
            <a href="users.html" class="nav-item nav-link"><i class="fa fa-users me-2"></i>Utilisateurs</a>
            <a href="reclamations.html" class="nav-item nav-link"><i class="fa fa-users me-2"></i>Réclamations</a>
        </div>
    </nav>
</div>
<!-- Sidebar End -->



        <!-- Content Start -->
        <div class="content">
            <!-- Navbar Start -->
            <nav class="navbar navbar-expand bg-secondary navbar-dark sticky-top px-4 py-0">
                <a href="index.html" class="navbar-brand d-flex d-lg-none me-4">
                    <h2 class="text-primary mb-0"><i class="fa fa-user-edit"></i></h2>
                </a>
                <a href="#" class="sidebar-toggler flex-shrink-0">
                    <i class="fa fa-bars"></i>
                </a>
                <form class="d-none d-md-flex ms-4">
                    <input class="form-control bg-dark border-0" type="search" placeholder="Search">
                </form>
                <div class="navbar-nav align-items-center ms-auto">
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="fa fa-envelope me-lg-2"></i>
                            <span class="d-none d-lg-inline-flex">Message</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">
                                <div class="d-flex align-items-center">
                                    <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                                    <div class="ms-2">
                                        <h6 class="fw-normal mb-0">Adminsend you a message</h6>
                                        <small>3 hours ago</small>
                                    </div>
                                </div>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <div class="d-flex align-items-center">
                                    <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                                    <div class="ms-2">
                                        <h6 class="fw-normal mb-0">X send you a message</h6>
                                        <small>17 minutes ago</small>
                                    </div>
                                </div>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <div class="d-flex align-items-center">
                                    <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                                    <div class="ms-2">
                                        <h6 class="fw-normal mb-0">yesser send you a message</h6>
                                        <small>20 minutes ago</small>
                                    </div>
                                </div>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item text-center">See all message</a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="fa fa-bell me-lg-2"></i>
                            <span class="d-none d-lg-inline-flex">Notificatin</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">Profile updated</h6>
                                <small>15 minutes ago</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">New user added</h6>
                                <small>15 minutes ago</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">Password changed</h6>
                                <small>15 minutes ago</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item text-center">See all notifications</a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <img class="rounded-circle me-lg-2" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                            <span class="d-none d-lg-inline-flex">Admin </span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">My Profile</a>
                            <a href="#" class="dropdown-item">Settings</a>
                            <a href="#" class="dropdown-item">Log Out</a>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Navbar End -->


<!-- Livre Statistics Start -->
<div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <!-- Total Books -->
        <div class="col-sm-6 col-xl-3">
            <div class="bg-secondary rounded d-flex flex-column align-items-center justify-content-center p-4 card-fixed-height">
                <i class="fa fa-book fa-3x text-primary"></i>
                <div class="text-center mt-2">
                    <p class="mb-2">Nombre Total de Livres</p>
                    <h6 class="mb-0">250</h6> <!-- Replace with dynamic data as needed -->
                </div>
            </div>
        </div>

        <!-- Available Books -->
        <div class="col-sm-6 col-xl-3">
            <div class="bg-secondary rounded d-flex flex-column align-items-center justify-content-center p-4 card-fixed-height">
                <i class="fa fa-check-circle fa-3x text-primary"></i>
                <div class="text-center mt-2">
                    <p class="mb-2">Livres Disponibles</p>
                    <h6 class="mb-0">180</h6> <!-- Replace with dynamic data as needed -->
                </div>
            </div>
        </div>

        <!-- New Books This Month -->
        <div class="col-sm-6 col-xl-3">
            <div class="bg-secondary rounded d-flex flex-column align-items-center justify-content-center p-4 card-fixed-height">
                <i class="fa fa-calendar-plus fa-3x text-primary"></i>
                <div class="text-center mt-2">
                    <p class="mb-2">Nouveaux Livres ce Mois</p>
                    <h6 class="mb-0">15</h6> <!-- Replace with dynamic data as needed -->
                </div>
            </div>
        </div>

        <!-- Books by Genre -->
        <div class="col-sm-6 col-xl-3">
            <div class="bg-secondary rounded d-flex flex-column align-items-center justify-content-center p-4 card-fixed-height">
                <i class="fa fa-list-alt fa-3x text-primary"></i>
                <div class="text-center mt-2">
                    <p class="mb-2">Genres de Livres</p>
                    <h6 class="mb-0">8 Genres</h6> <!-- Replace with dynamic data as needed -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Livre Statistics End -->



<!-- Recent Sales Start -->
<div class="container-fluid pt-4 px-4">
    <div class="bg-secondary text-center rounded p-4">
        <div class="d-flex align-items-center justify-content-between mb-4">
            <h6 class="mb-0">Livres</h6>
            <a href="">Ajouter</a>
            <a href="">Tout Afficher</a>
        </div>
        <div class="table-responsive">
            <table class="table text-start align-middle table-bordered table-hover mb-0">
                <thead>
                    <tr class="text-white">
                        <th scope="col" style="width: 40px;"><input class="form-check-input" type="checkbox"></th>
                        <th scope="col">ID</th>
                        <th scope="col">Titre</th>
                        <th scope="col">Auteur</th>
                        <th scope="col">Catégorie</th>
                        <th scope="col">Date de Publication</th>
                        <th scope="col">Disponibilité</th>
                        <th scope="col">Description</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody id="bookTable">
                    <!-- Rows will be inserted dynamically via JavaScript -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Recent Sales End -->


<!-- Widgets Start -->
<div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <!-- Form Column (8/12 columns) -->
        <div class="col-sm-12 col-md-9">
            <div class="bg-secondary rounded p-4 border border-light">
                <h6 class="mb-4">Formulaire de Livre</h6>
                <form id="bookForm">
                    <!-- Title -->
                    <div class="row mb-3">
                        <label for="inputTitle" class="col-sm-2 col-form-label">Titre</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputTitle" placeholder="Entrer le titre du livre">
                        </div>
                    </div>

                    <!-- Author -->
                    <div class="row mb-3">
                        <label for="inputAuthor" class="col-sm-2 col-form-label">Auteur</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputAuthor" placeholder="Entrer le nom de l'auteur">
                        </div>
                    </div>

                    <!-- Category -->
                    <div class="row mb-3">
                        <label for="inputCategory" class="col-sm-2 col-form-label">Catégorie</label>
                        <div class="col-sm-10">
                            <select class="form-control" id="inputCategory">
                                <option value="">Sélectionner une catégorie</option>
                                <option value="Literature">Littérature</option>
                                <option value="Science Fiction">Science-Fiction</option>
                                <option value="Classics">Classiques</option>
                                <option value="Philosophy">Philosophie</option>
                                <option value="Fantasy">Fantaisie</option>
                            </select>
                        </div>
                    </div>

                    <!-- Published Date -->
                    <div class="row mb-3">
                        <label for="inputDate" class="col-sm-2 col-form-label">Date de Publication</label>
                        <div class="col-sm-10">
                            <input type="date" class="form-control" id="inputDate">
                        </div>
                    </div>
                    <!-- Description -->
                    <div class="row mb-3">
                        <label for="inputEditDescription" class="col-sm-2 col-form-label">Description</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" id="inputEditDescription" placeholder="Modifier la description du livre"></textarea>
                        </div>
                    </div>

                    <!-- Availability (Radios) -->
                    <fieldset class="row mb-3">
                        <legend class="col-form-label col-sm-2 pt-0">Disponibilité</legend>
                        <div class="col-sm-10">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="availabilityRadios" id="available" value="available" checked>
                                <label class="form-check-label" for="available">Disponible</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="availabilityRadios" id="unavailable" value="unavailable">
                                <label class="form-check-label" for="unavailable">Indisponible</label>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary">Enregistrer le Livre</button>
                </form>
            </div>
        </div>

        <!-- Calendar Column (3/12 columns) -->
        <div class="col-sm-12 col-md-3">
            <div class="h-100 bg-secondary rounded p-4">
                <div class="d-flex align-items-center justify-content-between mb-4">
                    <h6 class="mb-0">Calendrier</h6>
                </div>
                <div id="calender"></div>
            </div>
        </div>
    </div>

    <!-- Modifier un Livre Column (Full Width) -->
    <div class="row g-4 mt-4">
        <div class="col-sm-12">
            <div class="bg-secondary rounded p-4 border border-light">
                <h6 class="mb-4">Modifier un Livre</h6>
                <form id="editBookForm" onsubmit="editBook(event)">
                    <!-- ID -->
                    <div class="row mb-3">
                        <label for="inputEditBookId" class="col-sm-2 col-form-label">ID</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputEditBookId" placeholder="Entrer l'ID du livre" required readonly>
                        </div>
                    </div>
        
                    <!-- Title -->
                    <div class="row mb-3">
                        <label for="inputEditTitle" class="col-sm-2 col-form-label">Titre</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputEditTitle" placeholder="Modifier le titre du livre" required>
                        </div>
                    </div>
        
                    <!-- Author -->
                    <div class="row mb-3">
                        <label for="inputEditAuthor" class="col-sm-2 col-form-label">Auteur</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputEditAuthor" placeholder="Modifier le nom de l'auteur" required>
                        </div>
                    </div>
        
                    <!-- Category -->
                    <div class="row mb-3">
                        <label for="inputEditCategory" class="col-sm-2 col-form-label">Catégorie</label>
                        <div class="col-sm-10">
                            <select class="form-control" id="inputEditCategory" required>
                                <option value="">Sélectionner une catégorie</option>
                                <option value="Literature">Littérature</option>
                                <option value="Science Fiction">Science-Fiction</option>
                                <option value="Classics">Classiques</option>
                                <option value="Philosophy">Philosophie</option>
                                <option value="Fantasy">Fantaisie</option>
                            </select>
                        </div>
                    </div>
        
                    <!-- Published Date -->
                    <div class="row mb-3">
                        <label for="inputEditDate" class="col-sm-2 col-form-label">Date de Publication</label>
                        <div class="col-sm-10">
                            <input type="date" class="form-control" id="inputEditDate" required>
                        </div>
                    </div>
        
                    <!-- Description -->
                    <div class="row mb-3">
                        <label for="inputEditDescription" class="col-sm-2 col-form-label">Description</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" id="inputEditDescription" placeholder="Modifier la description du livre" rows="3" required></textarea>
                        </div>
                    </div>
        
                    <!-- Availability (Radios) -->
                    <fieldset class="row mb-3">
                        <legend class="col-form-label col-sm-2 pt-0">Disponibilité</legend>
                        <div class="col-sm-10">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="editAvailabilityRadios" id="editAvailable" value="available" checked>
                                <label class="form-check-label" for="editAvailable">Disponible</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="editAvailabilityRadios" id="editUnavailable" value="unavailable">
                                <label class="form-check-label" for="editUnavailable">Indisponible</label>
                            </div>
                        </div>
                    </fieldset>
        
                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary">Modifier le Livre</button>
                    <button type="button" class="btn btn-danger" onclick="hideEditBookForm()">Annuler</button>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Widgets End -->

<script>
    const books = [
        { id: 1, title: "Le Petit Prince", author: "Antoine de Saint-Exupéry", category: "Littérature", pubDate: "1943-04-06", availability: "available", description: "Un conte philosophique et poétique." },
        { id: 2, title: "1984", author: "George Orwell", category: "Science Fiction", pubDate: "1949-06-08", availability: "unavailable", description: "Un roman dystopique sur une société totalitaire." },
        { id: 3, title: "Les Misérables", author: "Victor Hugo", category: "Classique", pubDate: "1862-04-03", availability: "available", description: "Une histoire sur la justice et la rédemption." },
        { id: 4, title: "La Peste", author: "Albert Camus", category: "Philosophie", pubDate: "1947-09-01", availability: "unavailable", description: "Une métaphore de la lutte contre le mal." },
        { id: 5, title: "Harry Potter à l'école des sorciers", author: "J.K. Rowling", category: "Fantaisie", pubDate: "1997-06-26", availability: "available", description: "Le début des aventures du jeune sorcier Harry Potter." },
    ];

    function displayBookTable() {
        const tableBody = document.getElementById("bookTable");
        tableBody.innerHTML = "";

        for (const book of books) {
            const row = `
                <tr>
                    <td><input class="form-check-input" type="checkbox"></td>
                    <td>${book.id}</td>
                    <td>${book.title}</td>
                    <td>${book.author}</td>
                    <td>${book.category}</td>
                    <td>${book.pubDate}</td>
                    <td>${book.availability === "available" ? "Disponible" : "Indisponible"}</td>
                    <td>${book.description}</td>
                    <td>
                        <div class="d-flex justify-content-center">
                            <a class="btn btn-sm btn-primary me-2" href="javascript:void(0);" onclick="populateBookForm(${book.id}, '${book.title}', '${book.author}', '${book.category}', '${book.pubDate}', '${book.availability}', '${book.description}')">Modifier</a>
                            <a class="btn btn-sm btn-danger" href="javascript:void(0);" onclick="deleteBook(${book.id})">Supprimer</a>
                        </div>
                    </td>
                </tr>`;
            tableBody.innerHTML += row;
        }
    }

    function addBook(event) {
        event.preventDefault();

        const title = document.getElementById("inputTitle").value;
        const author = document.getElementById("inputAuthor").value;
        const category = document.getElementById("inputCategory").value;
        const pubDate = document.getElementById("inputDate").value;
        const availability = document.querySelector('input[name="availabilityRadios"]:checked').value;
        const description = document.getElementById("inputDescription").value;

        const newBook = {
            id: books.length + 1,
            title,
            author,
            category,
            pubDate,
            availability,
            description
        };

        books.push(newBook);
        displayBookTable();
        document.getElementById("bookForm").reset();
        hideAddBookForm();
    }

    function populateBookForm(id, title, author, category, pubDate, availability, description) {
        document.getElementById("inputEditBookId").value = id;
        document.getElementById("inputEditTitle").value = title;
        document.getElementById("inputEditAuthor").value = author;
        document.getElementById("inputEditCategory").value = category;
        document.getElementById("inputEditDate").value = pubDate;
        document.getElementById("inputEditDescription").value = description;

        document.querySelector(`input[name="editAvailabilityRadios"][value="${availability}"]`).checked = true;

        document.getElementById("editBookForm").style.display = "block";
        document.getElementById("editBookForm").scrollIntoView({ behavior: 'smooth' });
    }

    function editBook(event) {
        event.preventDefault();

        const id = parseInt(document.getElementById("inputEditBookId").value);
        const book = books.find(b => b.id === id);
        if (book) {
            book.title = document.getElementById("inputEditTitle").value;
            book.author = document.getElementById("inputEditAuthor").value;
            book.category = document.getElementById("inputEditCategory").value;
            book.pubDate = document.getElementById("inputEditDate").value;
            book.availability = document.querySelector('input[name="editAvailabilityRadios"]:checked').value;
            book.description = document.getElementById("inputEditDescription").value;

            displayBookTable();
            hideEditBookForm();
        }
    }

    function deleteBook(id) {
        if (confirm("Voulez-vous vraiment supprimer ce livre ?")) {
            const index = books.findIndex(b => b.id === id);
            if (index > -1) {
                books.splice(index, 1);
                displayBookTable();
            }
        }
    }

    function showAddBookForm() {
        document.getElementById("addBookForm").style.display = "block";
        document.getElementById("editBookForm").style.display = "none";
    }

    function hideAddBookForm() {
        document.getElementById("addBookForm").style.display = "none";
    }

    function hideEditBookForm() {
        document.getElementById("editBookForm").style.display = "none";
    }

    // Initialize the book table on page load
    document.addEventListener("DOMContentLoaded", displayBookTable);
</script>





            <!-- Footer Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-secondary rounded-top p-4">
                    <div class="row">
                        <div class="col-12 col-sm-6 text-center text-sm-start">
                            &copy; <a href="#"></a>Université, All Right Reserved. 
                        </div>
                        <div class="col-12 col-sm-6 text-center text-sm-end">
                            <!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
                            Designed By <a href="https://htmlcodex.com">Fantomes</a>
                            <br>Distributed By: <a href="https://themewagon.com" target="_blank">Fantomes</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer End -->
        </div>
        <!-- Content End -->


        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/chart/chart.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
</body>

</html>